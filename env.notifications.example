# Notification System Configuration
# Copy this file to .env.local and fill in your actual values

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Slack Configuration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_DEFAULT_CHANNEL=#general
SLACK_SECURITY_CHANNEL=#security-alerts
SLACK_PERFORMANCE_CHANNEL=#performance-monitoring
SLACK_ERROR_CHANNEL=#error-tracking
SLACK_WARNING_CHANNEL=#warnings
SLACK_INFO_CHANNEL=#info
SLACK_SUCCESS_CHANNEL=#success

# GitHub Configuration
GITHUB_TOKEN=ghp_your_github_personal_access_token_here
GITHUB_OWNER=your-organization-name
GITHUB_REPO=promptforge
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret_here

# Telegram Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here
TELEGRAM_ENABLED=true
TELEGRAM_SECURITY_CHAT_ID=your_security_chat_id_here
TELEGRAM_DEVOPS_CHAT_ID=your_devops_chat_id_here
TELEGRAM_EMERGENCY_CHAT_ID=your_emergency_chat_id_here
TELEGRAM_NOTIFICATIONS_CHAT_ID=your_notifications_chat_id_here

# Telegram Channel Mappings
TELEGRAM_CHANNELS_SECURITY=@security_alerts
TELEGRAM_CHANNELS_PERFORMANCE=@performance_monitoring
TELEGRAM_CHANNELS_ERROR=@error_tracking
TELEGRAM_CHANNELS_WARNING=@warnings
TELEGRAM_CHANNELS_INFO=@info
TELEGRAM_CHANNELS_SUCCESS=@success

# Notification Escalation Configuration
NOTIFICATION_ESCALATION_ENABLED=true
NOTIFICATION_AUTO_ESCALATION=true
NOTIFICATION_ESCALATION_CHECK_INTERVAL=300000 # 5 minutes in milliseconds

# Team Escalation Delays (in minutes)
TEAM_LEAD_ESCALATION_DELAY=15
DEVOPS_ESCALATION_DELAY=30
SECURITY_ESCALATION_DELAY=5
EMERGENCY_ESCALATION_DELAY=0

# Slack Team Mentions
SLACK_TEAM_LEAD_MENTION=@team-leads
SLACK_DEVOPS_MENTION=@devops-team
SLACK_SECURITY_MENTION=@security-team
SLACK_EMERGENCY_MENTION=@emergency-response
SLACK_ONCALL_MENTION=@oncall

# Telegram Team Mentions
TELEGRAM_TEAM_LEAD_MENTION=@team_leads
TELEGRAM_DEVOPS_MENTION=@devops_team
TELEGRAM_SECURITY_MENTION=@security_team
TELEGRAM_EMERGENCY_MENTION=@emergency_response
TELEGRAM_ONCALL_MENTION=@oncall

# GitHub Team Assignees
GITHUB_TEAM_LEAD_ASSIGNEES=team-lead-1,team-lead-2
GITHUB_DEVOPS_ASSIGNEES=devops-1,devops-2
GITHUB_SECURITY_ASSIGNEES=security-1,security-2
GITHUB_EMERGENCY_ASSIGNEES=emergency-1,emergency-2,oncall

# Notification Templates
NOTIFICATION_TEMPLATES_ENABLED=true
NOTIFICATION_TEMPLATES_PATH=./lib/notifications/templates

# Database Configuration (if using separate notification database)
NOTIFICATION_DB_URL=postgresql://user:password@localhost:5432/notifications
NOTIFICATION_DB_POOL_SIZE=10

# Monitoring and Alerting
NOTIFICATION_MONITORING_ENABLED=true
NOTIFICATION_HEALTH_CHECK_INTERVAL=60000 # 1 minute in milliseconds
NOTIFICATION_FAILURE_ALERT_THRESHOLD=3
NOTIFICATION_FAILURE_ALERT_WINDOW=300000 # 5 minutes in milliseconds

# Rate Limiting
NOTIFICATION_RATE_LIMIT_MAX=100
NOTIFICATION_RATE_LIMIT_WINDOW=60000 # 1 minute in milliseconds

# Logging
NOTIFICATION_LOG_LEVEL=info
NOTIFICATION_LOG_FILE=./logs/notifications.log
NOTIFICATION_LOG_MAX_SIZE=100MB
NOTIFICATION_LOG_MAX_FILES=10

# Webhook Configuration
NOTIFICATION_WEBHOOK_ENABLED=true
NOTIFICATION_WEBHOOK_TIMEOUT=10000 # 10 seconds in milliseconds
NOTIFICATION_WEBHOOK_RETRY_ATTEMPTS=3
NOTIFICATION_WEBHOOK_RETRY_DELAY=5000 # 5 seconds in milliseconds

# Email Configuration (if using email notifications)
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_EMAIL_SMTP_HOST=smtp.gmail.com
NOTIFICATION_EMAIL_SMTP_PORT=587
NOTIFICATION_EMAIL_USERNAME=your-email@gmail.com
NOTIFICATION_EMAIL_PASSWORD=your-app-password
NOTIFICATION_EMAIL_FROM=notifications@yourcompany.com

# PagerDuty Configuration (if using PagerDuty)
NOTIFICATION_PAGERDUTY_ENABLED=false
NOTIFICATION_PAGERDUTY_API_KEY=your_pagerduty_api_key
NOTIFICATION_PAGERDUTY_SERVICE_ID=your_pagerduty_service_id

# Microsoft Teams Configuration (if using Teams)
NOTIFICATION_TEAMS_ENABLED=false
NOTIFICATION_TEAMS_WEBHOOK_URL=https://your-company.webhook.office.com/webhookb2/...

# Discord Configuration (if using Discord)
NOTIFICATION_DISCORD_ENABLED=false
NOTIFICATION_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url

# Custom Webhook Configuration
NOTIFICATION_CUSTOM_WEBHOOK_ENABLED=false
NOTIFICATION_CUSTOM_WEBHOOK_URL=https://your-custom-webhook.com/notifications
NOTIFICATION_CUSTOM_WEBHOOK_HEADERS={"Authorization": "Bearer your-token"}

# Development/Testing Configuration
NOTIFICATION_TEST_MODE=false
NOTIFICATION_TEST_CHANNEL=#dev-testing
NOTIFICATION_TEST_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/TEST/WEBHOOK
NOTIFICATION_TEST_GITHUB_REPO=test-repo
NOTIFICATION_TEST_TELEGRAM_CHAT_ID=your_test_chat_id_here

# Security Configuration
NOTIFICATION_ENCRYPTION_ENABLED=false
NOTIFICATION_ENCRYPTION_KEY=your-encryption-key-here
NOTIFICATION_SIGNATURE_SECRET=your-signature-secret-here

# Backup and Recovery
NOTIFICATION_BACKUP_ENABLED=true
NOTIFICATION_BACKUP_INTERVAL=86400000 # 24 hours in milliseconds
NOTIFICATION_BACKUP_RETENTION_DAYS=30
NOTIFICATION_BACKUP_PATH=./backups/notifications

# Performance Configuration
NOTIFICATION_WORKER_THREADS=4
NOTIFICATION_QUEUE_SIZE=1000
NOTIFICATION_PROCESSING_TIMEOUT=30000 # 30 seconds in milliseconds

# Integration Configuration
NOTIFICATION_CI_CD_INTEGRATION=true
NOTIFICATION_MONITORING_INTEGRATION=true
NOTIFICATION_LOGGING_INTEGRATION=true
NOTIFICATION_METRICS_INTEGRATION=true
